!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Frig=t(require("react"),require("react-dom")):e.Frig=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(null==e)return u["default"].defaultProps.theme;if(null==e.component)throw"Invalid theme. Expected an object";u["default"].originalClass.defaultProps.theme=e,l["default"].originalClass.defaultProps.theme=e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),u=n(i),a=r(6),l=n(a),s=r(10),f=n(s),c=r(11),p=n(c),d=r(12),y=n(d),v=r(14),h=n(v),m=r(15),b=n(m),g=r(8),O=n(g),_=r(9),P=n(_),j={Boolean:r(17),Focusable:r(18)};t["default"]={defaultTheme:o,Form:u["default"],Input:l["default"],Submit:f["default"],FormErrorList:p["default"],Fieldset:y["default"],FieldsetText:h["default"],ValueLinkedSelect:b["default"],HigherOrderComponents:j,util:O["default"],typeMapping:P["default"]},e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},f=r(2),c=n(f),p=r(3),d=n(p),y=function(e){function t(){var e=this;i(this,r),s(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments),this.displayName="Form",this._childComponentsByName=[],this.childComponentWillMount=function(t,r){e._childComponentsByName[t]=r},this.childComponentWillUnmount=function(t){delete e._childComponentsByName[t]},this._onChildRequestChange=function(t,r){e.props.onChange(Object.assign({},e._data(),o({},t,r)))},this._onSubmit=function(t){return e.validate()?void e.props.onSubmit(t):t.preventDefault()}}u(t,e),l(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.layout,r=e.theme,n=e.align,o=e.errors,i=e.saved;return{frigForm:{theme:r,layout:t,align:n,errors:o,saved:i,data:this._data(),requestChildComponentChange:this._onChildRequestChange,childComponentWillMount:this.childComponentWillMount,childComponentWillUnmount:this.childComponentWillUnmount,submit:this._onSubmit}}}},{key:"validate",value:function(){return 0===this._childComponents().filter(function(e){return!e.validate()}).length}},{key:"isValid",value:function(){return 0===this._childComponents().filter(function(e){return!e.isValid()}).length}},{key:"isModified",value:function(){return 0!==this._childComponents().filter(function(e){return e.isModified()}).length}},{key:"modifications",value:function n(){var n={};for(var e in this._childComponentsByName){var t=this._childComponentsByName[e];t.isModified()&&(n[e]=null==t.modifications?!0:t.modifications())}return n}},{key:"resetModified",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this._childComponents()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.resetModified()}}catch(u){t=!0,r=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw r}}}},{key:"reset",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this._childComponents()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.reset()}}catch(u){t=!0,r=u}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw r}}}},{key:"formData",value:function(){return this.refs.form.formData()}},{key:"render",value:function(){var e=this.props.theme.component("form");return c["default"].createElement(e,a({},this._themedFormProps(),{ref:"form"}),this.props.children)}},{key:"_themedFormProps",value:function(){var e=Object.assign({},this.props);return e.formHtml=Object.assign({},e.formHtml||{},{onSubmit:this._onSubmit.bind(this)}),e}},{key:"_data",value:function(){return this.props.data}},{key:"_childComponents",value:function(){var e=[],t=this._childComponentsByName;for(var r in t)e.push(t[r]);return e}}],[{key:"propTypes",value:{data:c["default"].PropTypes.object.isRequired,onChange:c["default"].PropTypes.func.isRequired,errors:c["default"].PropTypes.object.isRequired,saved:c["default"].PropTypes.object.isRequired,theme:c["default"].PropTypes.object.isRequired,typeMapping:c["default"].PropTypes.objectOf(c["default"].PropTypes.string),layout:c["default"].PropTypes.string.isRequired,align:c["default"].PropTypes.string.isRequired,onSubmit:c["default"].PropTypes.func},enumerable:!0},{key:"defaultProps",value:{errors:[],saved:{},theme:void 0,typeMapping:{},layout:"vertical",align:"left",onSubmit:function(){}},enumerable:!0},{key:"childContextTypes",value:{frigForm:c["default"].PropTypes.object},enumerable:!0}]);var r=t;return t=(0,d["default"])({as:Object,publicFunctions:["validate","isValid","isModified","modifications","resetModified","reset","formData"]})(t)||t}(c["default"].Component);t["default"]=y,e.exports=t["default"]},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=r(4),c=n(f),p=function(e){function t(){o(this,r),a(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.HigherOrderComponents.ErrorNormalizer"}i(t,e),u(t,[{key:"_toErrorObject",value:function(e){var t=Array.isArray(e);return null==e||t&&0===e.length?{}:(t&&(e={base:e}),e)}},{key:"_errors",value:function(){for(var e={},t=["errors","internalErrors"],r=0;r<t.length;r++){var n=t[r],o=this._toErrorObject(this.props[n]);for(var i in o)e[i]=(e[i]||[]).concat(o[i])}return e}},{key:"_normalizedErrors",value:function(){var e=this._errors(),t=this.opts().as;if(t===Array){var r=[];for(var n in e)r=r.concat(e[n]);return r}if(t===Object)return e;throw'ErrorsNormalizer "as" attribute must be either Array or Object'}},{key:"render",value:function(){var e=this.ComponentClass(),t=Object.assign({},this.props,{ref:"child",errors:this._normalizedErrors()});return delete t.internalErrors,s["default"].createElement(e,t)}}],[{key:"propTypes",value:{errors:s["default"].PropTypes.oneOfType([s["default"].PropTypes.object,s["default"].PropTypes.array]),internalErrors:s["default"].PropTypes.oneOfType([s["default"].PropTypes.object,s["default"].PropTypes.array])},enumerable:!0}]);var r=t;return t=(0,c["default"])()(t)||t}(s["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(5),s=n(l);e.exports=function(){return function(e){return function(t){return function(r){return function(e){function n(){o(this,l),a(Object.getPrototypeOf(l.prototype),"constructor",this).apply(this,arguments)}i(n,e),u(n,[{key:"ComponentClass",value:function(){return r}},{key:"opts",value:function(){return t}}],[{key:"originalClass",value:r.originalClass||r,enumerable:!0}]);var l=n;return n=(0,s["default"])(t)(n)||n}(e)}}}}},function(e,t){"use strict";e.exports=function(e){return function(t){var r=!0,n=!1,o=void 0;try{for(var i,u=function(){var e=i.value;t.prototype[e]=function(){var t;return(t=this.refs.child)[e].apply(t,arguments)}},a=(e.publicFunctions||[])[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)u()}catch(l){n=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw o}}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},s=r(2),f=n(s),c=r(7),p=n(c),d=r(8),y=r(3),v=n(y),h=function(e){function t(){o(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.Input",this.state={modified:!1,validationRequested:!1}}i(t,e),a(t,[{key:"validate",value:function(){return this.setState({validationRequested:!0}),this.isValid()}},{key:"isValid",value:function(){return null==this._errors()}},{key:"isModified",value:function(){return this.state.modified}},{key:"resetModified",value:function(){this.setState({modified:!1})}},{key:"reset",value:function(){this.setState({modified:!1,validationRequested:!1})}},{key:"componentWillMount",value:function(){this.context.frigForm.childComponentWillMount(this.props.name,this)}},{key:"componentWillUnmount",value:function(){this.context.frigForm.childComponentWillUnmount(this.props.name,this)}},{key:"render",value:function(){var e=this._themedComponent();return f["default"].createElement(e,this._themedInputProps())}},{key:"_errors",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._value():arguments[0],t=(this.props.errors||[]).slice().concat(this.context.frigForm.errors[this.props.name]||[]),r=(this.isModified()||this.state.validationRequested)&&this.props.validate;if(r){var n=Object.assign({},this.props);n.valueLink={value:e};var o=!0,i=!1,a=void 0;try{for(var l,s=(0,d.entries)(this._validations())[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=u(l.value,2),c=f[0],y=f[1];y!==!1&&null!=y&&(t=t.concat(p["default"][c](n,y)||[]))}}catch(v){i=!0,a=v}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}}return 0===t.length&&(t=void 0),t}},{key:"_value",value:function(){return this.context.frigForm.data[this.props.name]}},{key:"_themedInputProps",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.title||(0,d.humanize)(e.name),r={title:t,label:t,placeholder:t,layout:this.context.frigForm.layout,align:this.context.frigForm.align},n=Object.assign(r,e),o={options:(e.options||[]).map(this._normalizeOption),modified:this.isModified(),labelHtml:Object.assign({},n.labelHtml||{},{htmlFor:n.name}),inputHtml:Object.assign({},n.inputHtml||{},{onBlur:this._onBlur.bind(this),autoFocus:n.autoFocus,className:n.className,disabled:n.disabled,multiple:n.multiple,name:n.name,placeholder:n.placeholder,type:this._typeMapping().htmlInputType,ref:"input"}),valueLink:{value:this._value(),requestChange:this._onChange.bind(this)},errors:this._errors()};return Object.assign(n,o)}},{key:"_normalizeOption",value:function(e){return null!=e?null!=e.label?e:("object"==typeof e&&1===e.length&&(e=e[0]),"object"==typeof e&&2===e.length?{value:e[0],label:e[1]}:{value:e,label:e}):void 0}},{key:"_validations",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t={required:!0},r={},n=!0,o=!1,i=void 0;try{for(var a,l=(0,d.entries)(p["default"])[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=u(a.value,1),f=s[0];r[f]=null==e[f]?t[f]:e[f]}}catch(c){o=!0,i=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw i}}return r}},{key:"_onChange",value:function(e,t){if("submit"!==this.props.type){(t||{}).setModified!==!1&&this.setState({modified:!0});var r=null==this._errors(e);this.context.frigForm.requestChildComponentChange(this.props.name,e),this.props.onChange(e,r),r&&this.props.onValidChange(e,r)}}},{key:"_onBlur",value:function(){this.validate();var e=this.props.inputHtml;null!=e&&null!=e.onBlur&&e.onBlur()}},{key:"_guessInputType",value:function(){var e=this._value(),t=typeof e;return null!=this.props.type?this.props.type:this.props.multiple||Array.isArray(e)?"multiselect":null!=this.props.options?"select":"boolean"===t?"boolean":"number"===t?"float":this.props.name.match(/password$/i)?"password":"string"}},{key:"_typeMapping",value:function(){var e=Object.assign({},r(9),this.context.frigForm.theme.type_mapping);return e[this._guessInputType()]}},{key:"_themedComponent",value:function(){var e=this.props.name,t=this._typeMapping().component;if(null==t)throw e+": No type mapping found";var r=this.context.frigForm.theme.component(t);if(null==r)throw e+": No "+t+" component found in theme";return r}}],[{key:"propTypes",value:{name:f["default"].PropTypes.string.isRequired,errors:f["default"].PropTypes.arrayOf(f["default"].PropTypes.string),layout:f["default"].PropTypes.string,align:f["default"].PropTypes.string,className:f["default"].PropTypes.string,className:f["default"].PropTypes.string,disabled:f["default"].PropTypes.bool,multiple:f["default"].PropTypes.bool,type:f["default"].PropTypes.string,options:f["default"].PropTypes.array,validate:f["default"].PropTypes.bool,onChange:f["default"].PropTypes.func.isRequired,onValidChange:f["default"].PropTypes.func.isRequired},enumerable:!0},{key:"contextTypes",value:{frigForm:f["default"].PropTypes.shape({data:f["default"].PropTypes.object.isRequired,theme:f["default"].PropTypes.object.isRequired,errors:f["default"].PropTypes.object.isRequired,layout:f["default"].PropTypes.string.isRequired,align:f["default"].PropTypes.string.isRequired,saved:f["default"].PropTypes.object.isRequired,requestChildComponentChange:f["default"].PropTypes.func.isRequired,childComponentWillMount:f["default"].PropTypes.func.isRequired,childComponentWillUnmount:f["default"].PropTypes.func.isRequired}).isRequired},enumerable:!0},{key:"defaultProps",value:{validate:!0,disabled:!1,errors:[],onChange:function(){},onValidChange:function(){}},enumerable:!0}]);var n=t;return t=(0,v["default"])({as:Array,publicFunctions:["validate","isValid","isModified","resetModified","reset"]})(t)||t}(f["default"].Component);t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";e.exports={required:function(e){var t=e.valueLink.value;if(!((e.options||[]).filter(function(e){return null==e.value}).length>0||null!=t&&""!==t))return"This field is required."},min:function(e,t){var r=e.valueLink.value;if(!(r>=t||null!=r||""===r))return"Value cannot be less than "+t},max:function(e,t){var r=e.valueLink.value;if(!(t>=r||null!=r||""===r))return"Value cannot be greater than "+t}}},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=void 0,i=void 0,u=e.exports={entries:i=function(e){var t=[];for(var r in e)t.push([r,e[r]]);return t},isConfigObj:o=function(e){var t=typeof e;return"string"!==t&&"number"!==t&&"boolean"!==t&&"function"!==t&&"undefined"!==t&&null!=e&&null==e.length},humanize:function(e){if(null!=e){var t=/([A-Z]|[0-9]+|_[a-z])/g,r=e.replace(t," $1").replace(/_/g,"");return r[0].toUpperCase()+r.slice(1).toLowerCase()}},clone:function(e){var t={},r=!0,o=!1,u=void 0;try{for(var a,l=i(e)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=n(a.value,2),f=s[0],c=s[1];t[f]=c}}catch(p){o=!0,u=p}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw u}}return t},merge:function(e){e=e||{};var t=!0,r=!1,o=void 0;try{for(var u=arguments.length,a=Array(u>1?u-1:0),l=1;u>l;l++)a[l-1]=arguments[l];for(var s,f=a[Symbol.iterator]();!(t=(s=f.next()).done);t=!0){var c=s.value,p=!0,d=!1,y=void 0;try{for(var v,h=i(c||{})[Symbol.iterator]();!(p=(v=h.next()).done);p=!0){var m=n(v.value,2),b=m[0],g=m[1];e[b]=g}}catch(O){d=!0,y=O}finally{try{!p&&h["return"]&&h["return"]()}finally{if(d)throw y}}}}catch(O){r=!0,o=O}finally{try{!t&&f["return"]&&f["return"]()}finally{if(r)throw o}}return e},promisedTimeout:function(e){return new Promise(function(t){return setTimeout(t,e)})},map:function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var l=u.value;r.push(t(l))}}catch(s){o=!0,i=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r},mapObj:function(e,t){var r={},o=!0,u=!1,a=void 0;try{for(var l,s=i(e)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=n(l.value,2),c=f[0],p=f[1];r[c]=t(c,p)}}catch(d){u=!0,a=d}finally{try{!o&&s["return"]&&s["return"]()}finally{if(u)throw a}}return r},setDefaults:function(){for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];var l=t.pop();"function"!=typeof l&&(t.push(l),l=function(e,t){return t});var s=t[t.length-1]||{},f=t.slice(0).reverse(),c=function(e){var r=void 0,n=!0,o=!1,i=void 0;try{for(var u,a=f[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value;null==r&&(r=s[e])}}catch(c){o=!0,i=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return l(e,r,t)},p=!0,d=!1,y=void 0;try{for(var v,h=function(){var e=n(v.value,2),i=e[0],a=e[1];if(o(t[0][i])){var f=u.map(t,function(e){return e[i]||{}});a=u.setDefaults.apply(u,r(f).concat([l]))}else a=c(i);s[i]=a},m=i(u.merge.apply(u,[{}].concat(t)))[Symbol.iterator]();!(p=(v=m.next()).done);p=!0)h()}catch(b){d=!0,y=b}finally{try{!p&&m["return"]&&m["return"]()}finally{if(d)throw y}}return s},capitalize:function(e){return null!=e?""+e[0].toUpperCase()+e.slice(1):void 0}}},function(e,t){"use strict";e.exports={form:{component:"form"},errors:{component:"errors"},submit:{component:"submit",htmlInputType:"submit"},string:{component:"input",htmlInputType:"string"},password:{component:"input",htmlInputType:"password"},email:{component:"input",htmlInputType:"email"},url:{component:"input",htmlInputType:"url"},tel:{component:"input",htmlInputType:"tel"},"boolean":{component:"checkbox",htmlInputType:"checkbox"},text:{component:"text"},file:{component:"file",htmlInputType:"file"},"float":{component:"number"},"switch":{component:"switch"},time:{component:"timepicker"},select:{component:"select"},color:{component:"color"}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.Submit"}return i(t,e),u(t,[{key:"render",value:function(){var e=this.context.frigForm.theme.component("submit");return s["default"].createElement(e,this.props)}}],[{key:"contextTypes",value:{frigForm:s["default"].PropTypes.shape({theme:s["default"].PropTypes.object.isRequired}).isRequired},enumerable:!0}]),t}(s["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.FormErrorList"}return i(t,e),u(t,[{key:"render",value:function(){var e=this.context.frigForm.theme.component("errors");return s["default"].createElement(e,this.props)}}],[{key:"contextTypes",value:{frigForm:s["default"].PropTypes.shape({theme:s["default"].PropTypes.object.isRequired}).isRequired},enumerable:!0}]),t}(s["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(13),s=n(l),f=r(2),c=n(f),p=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Fieldset",this.state={invalidForms:[]}}return i(t,e),u(t,[{key:"componentWillMount",value:function(){this.context.frigForm.childComponentWillMount(this.props.name,this)}},{key:"componentWillUnmount",value:function(){this.context.frigForm.childComponentWillUnmount(this.props.name,this)}},{key:"componentWillReceiveProps",value:function(e,t){var r=this.state.invalidForms,n=this._dataValues(t).length;r=r.slice(0,n),this.setState({invalidForms:r})}},{key:"validate",value:function(){return this._forms().forEach(function(e){return e.validate()}),this.isValid()}},{key:"isValid",value:function(){return this._forms().every(function(e){return e.isValid()})}},{key:"isModified",value:function(){return this._forms().some(function(e){return e.isModified()})}},{key:"modifications",value:function(){var e=this._forms().filter(function(e){return e.isModified()}).map(function(e){return e.modifications()}),t=Array.isArray(this.context.frigForm.data.value||[]);return t?e:e[0]}},{key:"resetModified",value:function(){this._forms().forEach(function(e){return e.resetModified()})}},{key:"reset",value:function(){this._forms().forEach(function(e){return e.reset()})}},{key:"_forms",value:function(){var e=this;return Object.keys(this.refs||{}).map(function(t){return e.refs[t]})}},{key:"_listForKey",value:function(e,t){return Array.isArray(e)?e[t]:e}},{key:"_formProps",value:function(e){var t=e.data,r=e.index;return Object.assign({},this.context.frigForm,{index:r,key:r,ref:r,errors:this._listForKey(this.props.errors,r),saved:this._listForKey(this.props.saved,r),internalErrors:this._listForKey(this.props.internalErrors,r),data:t,onChange:this._onFormRequestChange.bind(this,r)})}},{key:"_onFormRequestChange",value:function(e,t,r){var n=this.props.data.value;Array.isArray(n)?(n=n.slice(),n[e]=t):n=t;var o=this.state.invalidForms;r?o[e]=!0:delete o[e],r=0===o.filter(function(e){return e===!0}).length,this.setState({invalidForms:o}),this.props.data.requestChange(n,r)}},{key:"_dataValues",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0],t=e.frigForm.data.value||[];return Array.isArray(t)?t:[t]}},{key:"render",value:function(){var e=this,t=0,r=this._dataValues();return c["default"].createElement("div",null,r.map(function(r){return c["default"].createElement(s["default"],e._formProps({data:r,index:t++}))}))}}],[{key:"contextTypes",value:{frigForm:c["default"].PropTypes.shape({data:c["default"].PropTypes.object.isRequired,theme:c["default"].PropTypes.object.isRequired,errors:c["default"].PropTypes.object.isRequired,layout:c["default"].PropTypes.string.isRequired,saved:c["default"].PropTypes.object.isRequired,requestChildComponentChange:c["default"].PropTypes.func.isRequired,childComponentWillMount:c["default"].PropTypes.func.isRequired,childComponentWillUnmount:c["default"].PropTypes.func.isRequired}).isRequired},enumerable:!0}]),t}(c["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=r(1),c=n(f),p=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.FieldsetNestedForm"}return i(t,e),u(t,[{key:"getChildContext",value:function(){return{frigFieldset:{index:this.props.index}}}},{key:"render",value:function(){return s["default"].createElement("div",null,this.props.children)}}],[{key:"childContextTypes",value:{frigFieldset:s["default"].PropTypes.object},enumerable:!0}]),t}(c["default"]);t["default"]=p,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),
n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.FieldsetText"}return i(t,e),u(t,[{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.text,s["default"].createElement("span",e,this.props.text(this.context.frigFieldset.index))}}]),t}(s["default"].Component);t["default"]=f,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=r(16),c=n(f),p=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.ValueLinkedSelect"}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=0!==(this.props.options||[]).length;e&&null==this.props.valueLink.value&&this._setInitialValue(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=0!==(e.options||[]).length;t&&null==e.valueLink.value&&this._setInitialValue(e),t||null==e.valueLink.value||e.valueLink.requestChange(void 0,{setModified:!1})}},{key:"_setInitialValue",value:function(e){if(!(e.options.filter(function(e){var t=e.value;return null==t}).length>0)){var t=e.valueLink.value||e.options[0].value;e.valueLink.requestChange(t,{setModified:!1})}}},{key:"_getValue",value:function(){var e=c["default"].findDOMNode(this.refs.input),t={},r=!0,n=!1,o=void 0;try{for(var i,u=this.props.options[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a=i.value,l=a.value;null!=l&&(l=a.value.toString()),t[l]=a.value}}catch(s){n=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(n)throw o}}return"select-multiple"===e.type?function(){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e.options[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var l=u.value;l.selected&&r.push(t[l.value])}}catch(s){o=!0,i=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}return r}():""===e.value?null:t[e.value]||e.value}},{key:"_onChange",value:function(){this.props.valueLink.requestChange(this._getValue())}},{key:"_inputHtml",value:function(){var e=this.props.valueLink.value;this.props.multiple&&(e=e.map(function(e){return e.value.toString()}));var t=Object.assign({},this.props,{ref:"input",valueLink:{value:e,requestChange:this._onChange.bind(this)}});for(var r in["valueLink","options"])delete t[r];return t}},{key:"_selectOption",value:function(e){var t={key:"option-"+e.label,value:e.value||""};return s["default"].createElement("option",t,e.label)}},{key:"render",value:function(){return s["default"].createElement("select",this._inputHtml(),this.props.options.map(this._selectOption))}}],[{key:"propTypes",value:{options:s["default"].PropTypes.array.isRequired,valueLink:s["default"].PropTypes.object.isRequired},enumerable:!0}]),t}(s["default"].Component);t["default"]=p,e.exports=t["default"]},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l);e.exports=function(e){return function(t){function r(){o(this,r),a(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments),this.displayName="Frig.HigherOrderComponents.Boolean"}return i(r,t),u(r,[{key:"componentWillMount",value:function(){this._normalizeValue(this.props)}},{key:"componentWillReceiveProps",value:function(e){this._normalizeValue(e)}},{key:"_normalizeValue",value:function(e){var t=e.valueLink.value;t!==this.props.offValue&&t!==this.props.onValue&&this._change(null!=t,{setModified:!1})}},{key:"_change",value:function(e){for(var t,r=e?this.props.onValue:this.props.offValue,n=arguments.length,o=Array(n>1?n-1:0),i=1;n>i;i++)o[i-1]=arguments[i];(t=this.props.valueLink).requestChange.apply(t,[r].concat(o))}},{key:"render",value:function(){var t=Object.assign({},this.props,{ref:"child",valueLink:{value:this.props.valueLink.value===this.props.onValue,requestChange:this._change.bind(this)}});return s["default"].createElement(e,t)}}],[{key:"propTypes",value:{valueLink:s["default"].PropTypes.object.isRequired,onValue:s["default"].PropTypes.any.isRequired,offValue:s["default"].PropTypes.any.isRequired},enumerable:!0},{key:"defaultProps",value:{onValue:!0,offValue:!1},enumerable:!0}]),r}(s["default"].Component)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},l=r(2),s=n(l),f=r(16),c=n(f);e.exports=function(e){var t=e.prototype.displayName;return function(r){function n(){o(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.state={focused:!1},this.displayName="Frig.HigherOrderComponents.Focusable("+t+")",this._onDocumentClick=this._onDocumentClick.bind(this),this._onFocus=this._onFocus.bind(this)}return i(n,r),u(n,[{key:"componentDidMount",value:function(){window.addEventListener("click",this._onDocumentClick),window.addEventListener("focus",this._onFocus,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._onDocumentClick),window.removeEventListener("focus",this._onFocus)}},{key:"_onDocumentClick",value:function(e){this.setState({focused:this._containsDOMElement(e.target)})}},{key:"_onFocus",value:function(){this.setState({focused:this._containsDOMElement(document.activeElement)})}},{key:"_containsDOMElement",value:function(e){var t=c["default"].findDOMNode(this);return t===e||t.contains(e)}},{key:"render",value:function(){var t=Object.assign({},this.props,{focused:this.state.focused});return s["default"].createElement(e,t)}}]),n}(s["default"].Component)}}])});